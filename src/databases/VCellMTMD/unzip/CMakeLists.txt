PROJECT(unzip)

FILE (GLOB SRC_FILES *.c)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
IF (WIN32)
LIST(APPEND SRC_FILES
win32/nt.c
win32/win32.c
)
INCLUDE_DIRECTORIES(win32)
ELSE (WIN32)
LIST(APPEND SRC_FILES
unix/unix.c
)
INCLUDE_DIRECTORIES(unix)
ADD_DEFINITIONS(-DUNIX)
ENDIF (WIN32)

SET_SOURCE_FILES_PROPERTIES( ${SRC_FILES} PROPERTIES LANGUAGE CXX )
ADD_LIBRARY(unzip STATIC ${SRC_FILES})
