/*****************************************************************************
*
* Copyright (c) 2000 - 2008, Lawrence Livermore National Security, LLC
* Produced at the Lawrence Livermore National Laboratory
* LLNL-CODE-400142
* All rights reserved.
*
* This file is  part of VisIt. For  details, see https://visit.llnl.gov/.  The
* full copyright notice is contained in the file COPYRIGHT located at the root
* of the VisIt distribution or at http://www.llnl.gov/visit/copyright.html.
*
* Redistribution  and  use  in  source  and  binary  forms,  with  or  without
* modification, are permitted provided that the following conditions are met:
*
*  - Redistributions of  source code must  retain the above  copyright notice,
*    this list of conditions and the disclaimer below.
*  - Redistributions in binary form must reproduce the above copyright notice,
*    this  list of  conditions  and  the  disclaimer (as noted below)  in  the
*    documentation and/or other materials provided with the distribution.
*  - Neither the name of  the LLNS/LLNL nor the names of  its contributors may
*    be used to endorse or promote products derived from this software without
*    specific prior written permission.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT  HOLDERS AND CONTRIBUTORS "AS IS"
* AND ANY EXPRESS OR  IMPLIED WARRANTIES, INCLUDING,  BUT NOT  LIMITED TO, THE
* IMPLIED WARRANTIES OF MERCHANTABILITY AND  FITNESS FOR A PARTICULAR  PURPOSE
* ARE  DISCLAIMED. IN  NO EVENT  SHALL LAWRENCE  LIVERMORE NATIONAL  SECURITY,
* LLC, THE  U.S.  DEPARTMENT OF  ENERGY  OR  CONTRIBUTORS BE  LIABLE  FOR  ANY
* DIRECT,  INDIRECT,   INCIDENTAL,   SPECIAL,   EXEMPLARY,  OR   CONSEQUENTIAL
* DAMAGES (INCLUDING, BUT NOT  LIMITED TO, PROCUREMENT OF  SUBSTITUTE GOODS OR
* SERVICES; LOSS OF  USE, DATA, OR PROFITS; OR  BUSINESS INTERRUPTION) HOWEVER
* CAUSED  AND  ON  ANY  THEORY  OF  LIABILITY,  WHETHER  IN  CONTRACT,  STRICT
* LIABILITY, OR TORT  (INCLUDING NEGLIGENCE OR OTHERWISE)  ARISING IN ANY  WAY
* OUT OF THE  USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
* DAMAGE.
*
*****************************************************************************/

#include "QvisSurfCompPrepWindow.h"

#include <SurfCompPrepAttributes.h>
#include <ViewerProxy.h>

#include <qcheckbox.h>
#include <qlabel.h>
#include <qlayout.h>
#include <qlineedit.h>
#include <qspinbox.h>
#include <qvbox.h>
#include <qbuttongroup.h>
#include <qradiobutton.h>
#include <QvisColorTableButton.h>
#include <QvisOpacitySlider.h>
#include <QvisColorButton.h>
#include <QvisLineStyleWidget.h>
#include <QvisLineWidthWidget.h>
#include <QvisVariableButton.h>

#include <stdio.h>
#include <string>

using std::string;

// ****************************************************************************
// Method: QvisSurfCompPrepWindow::QvisSurfCompPrepWindow
//
// Purpose: 
//   Constructor
//
// Note:       Autogenerated by xml2window.
//
// Programmer: xml2window
// Creation:   omitted
//
// Modifications:
//   
// ****************************************************************************

QvisSurfCompPrepWindow::QvisSurfCompPrepWindow(const int type,
                         SurfCompPrepAttributes *subj,
                         const QString &caption,
                         const QString &shortName,
                         QvisNotepadArea *notepad)
    : QvisOperatorWindow(type,subj, caption, shortName, notepad)
{
    atts = subj;
}


// ****************************************************************************
// Method: QvisSurfCompPrepWindow::~QvisSurfCompPrepWindow
//
// Purpose: 
//   Destructor
//
// Note:       Autogenerated by xml2window.
//
// Programmer: xml2window
// Creation:   omitted
//
// Modifications:
//   
// ****************************************************************************

QvisSurfCompPrepWindow::~QvisSurfCompPrepWindow()
{
}


// ****************************************************************************
// Method: QvisSurfCompPrepWindow::CreateWindowContents
//
// Purpose: 
//   Creates the widgets for the window.
//
// Note:       Autogenerated by xml2window.
//
// Programmer: xml2window
// Creation:   omitted
//
// Modifications:
//   
// ****************************************************************************

void
QvisSurfCompPrepWindow::CreateWindowContents()
{
    QGridLayout *mainLayout = new QGridLayout(topLayout, 20,2,  10, "mainLayout");


    surfaceTypeLabel = new QLabel(tr("Method for inferring surface"), central, "surfaceTypeLabel");
    mainLayout->addWidget(surfaceTypeLabel,0,0);
    surfaceType = new QButtonGroup(central, "surfaceType");
    surfaceType->setFrameStyle(QFrame::NoFrame);
    QHBoxLayout *surfaceTypeLayout = new QHBoxLayout(surfaceType);
    surfaceTypeLayout->setSpacing(10);
    QRadioButton *surfaceTypeSurfaceTypeClosest = new QRadioButton(tr("Closest"), surfaceType);
    surfaceTypeLayout->addWidget(surfaceTypeSurfaceTypeClosest);
    QRadioButton *surfaceTypeSurfaceTypeFarthest = new QRadioButton(tr("Farthest"), surfaceType);
    surfaceTypeLayout->addWidget(surfaceTypeSurfaceTypeFarthest);
    QRadioButton *surfaceTypeSurfaceTypeAverage = new QRadioButton(tr("Average"), surfaceType);
    surfaceTypeLayout->addWidget(surfaceTypeSurfaceTypeAverage);
    connect(surfaceType, SIGNAL(clicked(int)),
            this, SLOT(surfaceTypeChanged(int)));
    mainLayout->addWidget(surfaceType, 0,1);

    coordSystemLabel = new QLabel(tr("Coordinate System"), central, "coordSystemLabel");
    mainLayout->addWidget(coordSystemLabel,1,0);
    coordSystem = new QButtonGroup(central, "coordSystem");
    coordSystem->setFrameStyle(QFrame::NoFrame);
    QHBoxLayout *coordSystemLayout = new QHBoxLayout(coordSystem);
    coordSystemLayout->setSpacing(10);
    QRadioButton *coordSystemCoordinateSystemCartesian = new QRadioButton(tr("Cartesian"), coordSystem);
    coordSystemLayout->addWidget(coordSystemCoordinateSystemCartesian);
    QRadioButton *coordSystemCoordinateSystemCylindrical = new QRadioButton(tr("Cylindrical"), coordSystem);
    coordSystemLayout->addWidget(coordSystemCoordinateSystemCylindrical);
    QRadioButton *coordSystemCoordinateSystemSpherical = new QRadioButton(tr("Spherical"), coordSystem);
    coordSystemLayout->addWidget(coordSystemCoordinateSystemSpherical);
    connect(coordSystem, SIGNAL(clicked(int)),
            this, SLOT(coordSystemChanged(int)));
    mainLayout->addWidget(coordSystem, 1,1);

    thetaStartLabel = new QLabel(tr("Start for Theta (degrees)"), central, "thetaStartLabel");
    mainLayout->addWidget(thetaStartLabel,2,0);
    thetaStart = new QLineEdit(central, "thetaStart");
    connect(thetaStart, SIGNAL(returnPressed()),
            this, SLOT(thetaStartProcessText()));
    mainLayout->addWidget(thetaStart, 2,1);

    thetaStopLabel = new QLabel(tr("Stop for Theta (degrees)"), central, "thetaStopLabel");
    mainLayout->addWidget(thetaStopLabel,3,0);
    thetaStop = new QLineEdit(central, "thetaStop");
    connect(thetaStop, SIGNAL(returnPressed()),
            this, SLOT(thetaStopProcessText()));
    mainLayout->addWidget(thetaStop, 3,1);

    thetaStepsLabel = new QLabel(tr("Number of samples in Theta"), central, "thetaStepsLabel");
    mainLayout->addWidget(thetaStepsLabel,4,0);
    thetaSteps = new QLineEdit(central, "thetaSteps");
    connect(thetaSteps, SIGNAL(returnPressed()),
            this, SLOT(thetaStepsProcessText()));
    mainLayout->addWidget(thetaSteps, 4,1);

    phiStartLabel = new QLabel(tr("Start for Phi (degrees)"), central, "phiStartLabel");
    mainLayout->addWidget(phiStartLabel,5,0);
    phiStart = new QLineEdit(central, "phiStart");
    connect(phiStart, SIGNAL(returnPressed()),
            this, SLOT(phiStartProcessText()));
    mainLayout->addWidget(phiStart, 5,1);

    phiStopLabel = new QLabel(tr("Stop for Phi (degrees)"), central, "phiStopLabel");
    mainLayout->addWidget(phiStopLabel,6,0);
    phiStop = new QLineEdit(central, "phiStop");
    connect(phiStop, SIGNAL(returnPressed()),
            this, SLOT(phiStopProcessText()));
    mainLayout->addWidget(phiStop, 6,1);

    phiStepsLabel = new QLabel(tr("Number of samples in Phi"), central, "phiStepsLabel");
    mainLayout->addWidget(phiStepsLabel,7,0);
    phiSteps = new QLineEdit(central, "phiSteps");
    connect(phiSteps, SIGNAL(returnPressed()),
            this, SLOT(phiStepsProcessText()));
    mainLayout->addWidget(phiSteps, 7,1);

    startRadiusLabel = new QLabel(tr("First radius to sample"), central, "startRadiusLabel");
    mainLayout->addWidget(startRadiusLabel,8,0);
    startRadius = new QLineEdit(central, "startRadius");
    connect(startRadius, SIGNAL(returnPressed()),
            this, SLOT(startRadiusProcessText()));
    mainLayout->addWidget(startRadius, 8,1);

    endRadiusLabel = new QLabel(tr("Last radius to sample"), central, "endRadiusLabel");
    mainLayout->addWidget(endRadiusLabel,9,0);
    endRadius = new QLineEdit(central, "endRadius");
    connect(endRadius, SIGNAL(returnPressed()),
            this, SLOT(endRadiusProcessText()));
    mainLayout->addWidget(endRadius, 9,1);

    radiusStepsLabel = new QLabel(tr("Number of samples in radius"), central, "radiusStepsLabel");
    mainLayout->addWidget(radiusStepsLabel,10,0);
    radiusSteps = new QLineEdit(central, "radiusSteps");
    connect(radiusSteps, SIGNAL(returnPressed()),
            this, SLOT(radiusStepsProcessText()));
    mainLayout->addWidget(radiusSteps, 10,1);

    xStartLabel = new QLabel(tr("Starting point for X"), central, "xStartLabel");
    mainLayout->addWidget(xStartLabel,11,0);
    xStart = new QLineEdit(central, "xStart");
    connect(xStart, SIGNAL(returnPressed()),
            this, SLOT(xStartProcessText()));
    mainLayout->addWidget(xStart, 11,1);

    xStopLabel = new QLabel(tr("Ending point for X"), central, "xStopLabel");
    mainLayout->addWidget(xStopLabel,12,0);
    xStop = new QLineEdit(central, "xStop");
    connect(xStop, SIGNAL(returnPressed()),
            this, SLOT(xStopProcessText()));
    mainLayout->addWidget(xStop, 12,1);

    xStepsLabel = new QLabel(tr("Number of steps in X"), central, "xStepsLabel");
    mainLayout->addWidget(xStepsLabel,13,0);
    xSteps = new QLineEdit(central, "xSteps");
    connect(xSteps, SIGNAL(returnPressed()),
            this, SLOT(xStepsProcessText()));
    mainLayout->addWidget(xSteps, 13,1);

    yStartLabel = new QLabel(tr("Starting point for Y"), central, "yStartLabel");
    mainLayout->addWidget(yStartLabel,14,0);
    yStart = new QLineEdit(central, "yStart");
    connect(yStart, SIGNAL(returnPressed()),
            this, SLOT(yStartProcessText()));
    mainLayout->addWidget(yStart, 14,1);

    yStopLabel = new QLabel(tr("Ending point for Y"), central, "yStopLabel");
    mainLayout->addWidget(yStopLabel,15,0);
    yStop = new QLineEdit(central, "yStop");
    connect(yStop, SIGNAL(returnPressed()),
            this, SLOT(yStopProcessText()));
    mainLayout->addWidget(yStop, 15,1);

    yStepsLabel = new QLabel(tr("Number of steps in Y"), central, "yStepsLabel");
    mainLayout->addWidget(yStepsLabel,16,0);
    ySteps = new QLineEdit(central, "ySteps");
    connect(ySteps, SIGNAL(returnPressed()),
            this, SLOT(yStepsProcessText()));
    mainLayout->addWidget(ySteps, 16,1);

    zStartLabel = new QLabel(tr("Starting point for Z"), central, "zStartLabel");
    mainLayout->addWidget(zStartLabel,17,0);
    zStart = new QLineEdit(central, "zStart");
    connect(zStart, SIGNAL(returnPressed()),
            this, SLOT(zStartProcessText()));
    mainLayout->addWidget(zStart, 17,1);

    zStopLabel = new QLabel(tr("Ending point for Z"), central, "zStopLabel");
    mainLayout->addWidget(zStopLabel,18,0);
    zStop = new QLineEdit(central, "zStop");
    connect(zStop, SIGNAL(returnPressed()),
            this, SLOT(zStopProcessText()));
    mainLayout->addWidget(zStop, 18,1);

    zStepsLabel = new QLabel(tr("Number of steps in Z"), central, "zStepsLabel");
    mainLayout->addWidget(zStepsLabel,19,0);
    zSteps = new QLineEdit(central, "zSteps");
    connect(zSteps, SIGNAL(returnPressed()),
            this, SLOT(zStepsProcessText()));
    mainLayout->addWidget(zSteps, 19,1);

}


// ****************************************************************************
// Method: QvisSurfCompPrepWindow::UpdateWindow
//
// Purpose: 
//   Updates the widgets in the window when the subject changes.
//
// Note:       Autogenerated by xml2window.
//
// Programmer: xml2window
// Creation:   omitted
//
// Modifications:
//   Kathleen Bonnell, Mon Jun 30 15:12:27 PDT 2008
//   Removed unreferenced variables.
//   
// ****************************************************************************

void
QvisSurfCompPrepWindow::UpdateWindow(bool doAll)
{
    QString temp;

    for(int i = 0; i < atts->NumAttributes(); ++i)
    {
        if(!doAll)
        {
            if(!atts->IsSelected(i))
            {
                continue;
            }
        }

        switch(i)
        {
          case SurfCompPrepAttributes::ID_surfaceType:
            surfaceType->blockSignals(true);
            surfaceType->setButton(atts->GetSurfaceType());
            surfaceType->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_coordSystem:
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Spherical || 
                atts->GetCoordSystem() == SurfCompPrepAttributes::Cylindrical)
            {
                thetaStart->setEnabled(true);
                if(thetaStartLabel)
                    thetaStartLabel->setEnabled(true);
            }
            else
            {
                thetaStart->setEnabled(false);
                if(thetaStartLabel)
                    thetaStartLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Spherical || 
                atts->GetCoordSystem() == SurfCompPrepAttributes::Cylindrical)
            {
                thetaStop->setEnabled(true);
                if(thetaStopLabel)
                    thetaStopLabel->setEnabled(true);
            }
            else
            {
                thetaStop->setEnabled(false);
                if(thetaStopLabel)
                    thetaStopLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Spherical || 
                atts->GetCoordSystem() == SurfCompPrepAttributes::Cylindrical)
            {
                thetaSteps->setEnabled(true);
                if(thetaStepsLabel)
                    thetaStepsLabel->setEnabled(true);
            }
            else
            {
                thetaSteps->setEnabled(false);
                if(thetaStepsLabel)
                    thetaStepsLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Spherical)
            {
                phiStart->setEnabled(true);
                if(phiStartLabel)
                    phiStartLabel->setEnabled(true);
            }
            else
            {
                phiStart->setEnabled(false);
                if(phiStartLabel)
                    phiStartLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Spherical)
            {
                phiStop->setEnabled(true);
                if(phiStopLabel)
                    phiStopLabel->setEnabled(true);
            }
            else
            {
                phiStop->setEnabled(false);
                if(phiStopLabel)
                    phiStopLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Spherical)
            {
                phiSteps->setEnabled(true);
                if(phiStepsLabel)
                    phiStepsLabel->setEnabled(true);
            }
            else
            {
                phiSteps->setEnabled(false);
                if(phiStepsLabel)
                    phiStepsLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cylindrical 
                || atts->GetCoordSystem() == SurfCompPrepAttributes::Spherical)
            {
                startRadius->setEnabled(true);
                if(startRadiusLabel)
                    startRadiusLabel->setEnabled(true);
            }
            else
            {
                startRadius->setEnabled(false);
                if(startRadiusLabel)
                    startRadiusLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cylindrical 
                || atts->GetCoordSystem() == SurfCompPrepAttributes::Spherical)
            {
                endRadius->setEnabled(true);
                if(endRadiusLabel)
                    endRadiusLabel->setEnabled(true);
            }
            else
            {
                endRadius->setEnabled(false);
                if(endRadiusLabel)
                    endRadiusLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cylindrical 
               || atts->GetCoordSystem() == SurfCompPrepAttributes::Spherical)
            {
                radiusSteps->setEnabled(true);
                if(radiusStepsLabel)
                    radiusStepsLabel->setEnabled(true);
            }
            else
            {
                radiusSteps->setEnabled(false);
                if(radiusStepsLabel)
                    radiusStepsLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cartesian)
            {
                xStart->setEnabled(true);
                if(xStartLabel)
                    xStartLabel->setEnabled(true);
            }
            else
            {
                xStart->setEnabled(false);
                if(xStartLabel)
                    xStartLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cartesian)
            {
                xStop->setEnabled(true);
                if(xStopLabel)
                    xStopLabel->setEnabled(true);
            }
            else
            {
                xStop->setEnabled(false);
                if(xStopLabel)
                    xStopLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cartesian)
            {
                xSteps->setEnabled(true);
                if(xStepsLabel)
                    xStepsLabel->setEnabled(true);
            }
            else
            {
                xSteps->setEnabled(false);
                if(xStepsLabel)
                    xStepsLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cartesian)
            {
                yStart->setEnabled(true);
                if(yStartLabel)
                    yStartLabel->setEnabled(true);
            }
            else
            {
                yStart->setEnabled(false);
                if(yStartLabel)
                    yStartLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cartesian)
            {
                yStop->setEnabled(true);
                if(yStopLabel)
                    yStopLabel->setEnabled(true);
            }
            else
            {
                yStop->setEnabled(false);
                if(yStopLabel)
                    yStopLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cartesian)
            {
                ySteps->setEnabled(true);
                if(yStepsLabel)
                    yStepsLabel->setEnabled(true);
            }
            else
            {
                ySteps->setEnabled(false);
                if(yStepsLabel)
                    yStepsLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cartesian || 
                atts->GetCoordSystem() == SurfCompPrepAttributes::Cylindrical)
            {
                zStart->setEnabled(true);
                if(zStartLabel)
                    zStartLabel->setEnabled(true);
            }
            else
            {
                zStart->setEnabled(false);
                if(zStartLabel)
                    zStartLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cartesian || 
                atts->GetCoordSystem() == SurfCompPrepAttributes::Cylindrical)
            {
                zStop->setEnabled(true);
                if(zStopLabel)
                    zStopLabel->setEnabled(true);
            }
            else
            {
                zStop->setEnabled(false);
                if(zStopLabel)
                    zStopLabel->setEnabled(false);
            }
            if (atts->GetCoordSystem() == SurfCompPrepAttributes::Cartesian || 
                atts->GetCoordSystem() == SurfCompPrepAttributes::Cylindrical)
            {
                zSteps->setEnabled(true);
                if(zStepsLabel)
                    zStepsLabel->setEnabled(true);
            }
            else
            {
                zSteps->setEnabled(false);
                if(zStepsLabel)
                    zStepsLabel->setEnabled(false);
            }
            coordSystem->blockSignals(true);
            coordSystem->setButton(atts->GetCoordSystem());
            coordSystem->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_thetaStart:
            thetaStart->blockSignals(true);
            temp.setNum(atts->GetThetaStart());
            thetaStart->setText(temp);
            thetaStart->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_thetaStop:
            thetaStop->blockSignals(true);
            temp.setNum(atts->GetThetaStop());
            thetaStop->setText(temp);
            thetaStop->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_thetaSteps:
            thetaSteps->blockSignals(true);
            temp.sprintf("%d", atts->GetThetaSteps());
            thetaSteps->setText(temp);
            thetaSteps->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_phiStart:
            phiStart->blockSignals(true);
            temp.setNum(atts->GetPhiStart());
            phiStart->setText(temp);
            phiStart->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_phiStop:
            phiStop->blockSignals(true);
            temp.setNum(atts->GetPhiStop());
            phiStop->setText(temp);
            phiStop->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_phiSteps:
            phiSteps->blockSignals(true);
            temp.sprintf("%d", atts->GetPhiSteps());
            phiSteps->setText(temp);
            phiSteps->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_startRadius:
            startRadius->blockSignals(true);
            temp.setNum(atts->GetStartRadius());
            startRadius->setText(temp);
            startRadius->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_endRadius:
            endRadius->blockSignals(true);
            temp.setNum(atts->GetEndRadius());
            endRadius->setText(temp);
            endRadius->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_radiusSteps:
            radiusSteps->blockSignals(true);
            temp.sprintf("%d", atts->GetRadiusSteps());
            radiusSteps->setText(temp);
            radiusSteps->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_xStart:
            xStart->blockSignals(true);
            temp.setNum(atts->GetXStart());
            xStart->setText(temp);
            xStart->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_xStop:
            xStop->blockSignals(true);
            temp.setNum(atts->GetXStop());
            xStop->setText(temp);
            xStop->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_xSteps:
            xSteps->blockSignals(true);
            temp.sprintf("%d", atts->GetXSteps());
            xSteps->setText(temp);
            xSteps->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_yStart:
            yStart->blockSignals(true);
            temp.setNum(atts->GetYStart());
            yStart->setText(temp);
            yStart->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_yStop:
            yStop->blockSignals(true);
            temp.setNum(atts->GetYStop());
            yStop->setText(temp);
            yStop->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_ySteps:
            ySteps->blockSignals(true);
            temp.sprintf("%d", atts->GetYSteps());
            ySteps->setText(temp);
            ySteps->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_zStart:
            zStart->blockSignals(true);
            temp.setNum(atts->GetZStart());
            zStart->setText(temp);
            zStart->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_zStop:
            zStop->blockSignals(true);
            temp.setNum(atts->GetZStop());
            zStop->setText(temp);
            zStop->blockSignals(false);
            break;
          case SurfCompPrepAttributes::ID_zSteps:
            zSteps->blockSignals(true);
            temp.sprintf("%d", atts->GetZSteps());
            zSteps->setText(temp);
            zSteps->blockSignals(false);
            break;
        }
    }
}


// ****************************************************************************
// Method: QvisSurfCompPrepWindow::GetCurrentValues
//
// Purpose: 
//   Gets values from certain widgets and stores them in the subject.
//
// Note:       Autogenerated by xml2window.
//
// Programmer: xml2window
// Creation:   omitted
//
// Modifications:
//   
// ****************************************************************************

void
QvisSurfCompPrepWindow::GetCurrentValues(int which_widget)
{
    bool okay, doAll = (which_widget == -1);
    QString msg, temp;

    // Do thetaStart
    if(which_widget == SurfCompPrepAttributes::ID_thetaStart || doAll)
    {
        temp = thetaStart->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetThetaStart(val);
        }

        if(!okay)
        {
            msg = tr("The value of thetaStart was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetThetaStart());
            Message(msg);
            atts->SetThetaStart(atts->GetThetaStart());
        }
    }

    // Do thetaStop
    if(which_widget == SurfCompPrepAttributes::ID_thetaStop || doAll)
    {
        temp = thetaStop->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetThetaStop(val);
        }

        if(!okay)
        {
            msg = tr("The value of thetaStop was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetThetaStop());
            Message(msg);
            atts->SetThetaStop(atts->GetThetaStop());
        }
    }

    // Do thetaSteps
    if(which_widget == SurfCompPrepAttributes::ID_thetaSteps || doAll)
    {
        temp = thetaSteps->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            int val = temp.toInt(&okay);
            if(okay)
                atts->SetThetaSteps(val);
        }

        if(!okay)
        {
            msg = tr("The value of thetaSteps was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetThetaSteps());
            Message(msg);
            atts->SetThetaSteps(atts->GetThetaSteps());
        }
    }

    // Do phiStart
    if(which_widget == SurfCompPrepAttributes::ID_phiStart || doAll)
    {
        temp = phiStart->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetPhiStart(val);
        }

        if(!okay)
        {
            msg = tr("The value of phiStart was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetPhiStart());
            Message(msg);
            atts->SetPhiStart(atts->GetPhiStart());
        }
    }

    // Do phiStop
    if(which_widget == SurfCompPrepAttributes::ID_phiStop || doAll)
    {
        temp = phiStop->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetPhiStop(val);
        }

        if(!okay)
        {
            msg = tr("The value of phiStop was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetPhiStop());
            Message(msg);
            atts->SetPhiStop(atts->GetPhiStop());
        }
    }

    // Do phiSteps
    if(which_widget == SurfCompPrepAttributes::ID_phiSteps || doAll)
    {
        temp = phiSteps->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            int val = temp.toInt(&okay);
            if(okay)
                atts->SetPhiSteps(val);
        }

        if(!okay)
        {
            msg = tr("The value of phiSteps was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetPhiSteps());
            Message(msg);
            atts->SetPhiSteps(atts->GetPhiSteps());
        }
    }

    // Do startRadius
    if(which_widget == SurfCompPrepAttributes::ID_startRadius || doAll)
    {
        temp = startRadius->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetStartRadius(val);
        }

        if(!okay)
        {
            msg = tr("The value of startRadius was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetStartRadius());
            Message(msg);
            atts->SetStartRadius(atts->GetStartRadius());
        }
    }

    // Do endRadius
    if(which_widget == SurfCompPrepAttributes::ID_endRadius || doAll)
    {
        temp = endRadius->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetEndRadius(val);
        }

        if(!okay)
        {
            msg = tr("The value of endRadius was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetEndRadius());
            Message(msg);
            atts->SetEndRadius(atts->GetEndRadius());
        }
    }

    // Do radiusSteps
    if(which_widget == SurfCompPrepAttributes::ID_radiusSteps || doAll)
    {
        temp = radiusSteps->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            int val = temp.toInt(&okay);
            if(okay)
                atts->SetRadiusSteps(val);
        }

        if(!okay)
        {
            msg = tr("The value of radiusSteps was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetRadiusSteps());
            Message(msg);
            atts->SetRadiusSteps(atts->GetRadiusSteps());
        }
    }

    // Do xStart
    if(which_widget == SurfCompPrepAttributes::ID_xStart || doAll)
    {
        temp = xStart->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetXStart(val);
        }

        if(!okay)
        {
            msg = tr("The value of xStart was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetXStart());
            Message(msg);
            atts->SetXStart(atts->GetXStart());
        }
    }

    // Do xStop
    if(which_widget == SurfCompPrepAttributes::ID_xStop || doAll)
    {
        temp = xStop->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetXStop(val);
        }

        if(!okay)
        {
            msg = tr("The value of xStop was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetXStop());
            Message(msg);
            atts->SetXStop(atts->GetXStop());
        }
    }

    // Do xSteps
    if(which_widget == SurfCompPrepAttributes::ID_xSteps || doAll)
    {
        temp = xSteps->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            int val = temp.toInt(&okay);
            if(okay)
                atts->SetXSteps(val);
        }

        if(!okay)
        {
            msg = tr("The value of xSteps was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetXSteps());
            Message(msg);
            atts->SetXSteps(atts->GetXSteps());
        }
    }

    // Do yStart
    if(which_widget == SurfCompPrepAttributes::ID_yStart || doAll)
    {
        temp = yStart->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetYStart(val);
        }

        if(!okay)
        {
            msg = tr("The value of yStart was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetYStart());
            Message(msg);
            atts->SetYStart(atts->GetYStart());
        }
    }

    // Do yStop
    if(which_widget == SurfCompPrepAttributes::ID_yStop || doAll)
    {
        temp = yStop->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetYStop(val);
        }

        if(!okay)
        {
            msg = tr("The value of yStop was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetYStop());
            Message(msg);
            atts->SetYStop(atts->GetYStop());
        }
    }

    // Do ySteps
    if(which_widget == SurfCompPrepAttributes::ID_ySteps || doAll)
    {
        temp = ySteps->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            int val = temp.toInt(&okay);
            if(okay)
                atts->SetYSteps(val);
        }

        if(!okay)
        {
            msg = tr("The value of ySteps was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetYSteps());
            Message(msg);
            atts->SetYSteps(atts->GetYSteps());
        }
    }

    // Do zStart
    if(which_widget == SurfCompPrepAttributes::ID_zStart || doAll)
    {
        temp = zStart->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetZStart(val);
        }

        if(!okay)
        {
            msg = tr("The value of zStart was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetZStart());
            Message(msg);
            atts->SetZStart(atts->GetZStart());
        }
    }

    // Do zStop
    if(which_widget == SurfCompPrepAttributes::ID_zStop || doAll)
    {
        temp = zStop->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            double val = temp.toDouble(&okay);
            if(okay)
                atts->SetZStop(val);
        }

        if(!okay)
        {
            msg = tr("The value of zStop was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetZStop());
            Message(msg);
            atts->SetZStop(atts->GetZStop());
        }
    }

    // Do zSteps
    if(which_widget == SurfCompPrepAttributes::ID_zSteps || doAll)
    {
        temp = zSteps->displayText().simplifyWhiteSpace();
        okay = !temp.isEmpty();
        if(okay)
        {
            int val = temp.toInt(&okay);
            if(okay)
                atts->SetZSteps(val);
        }

        if(!okay)
        {
            msg = tr("The value of zSteps was invalid. "
                     "Resetting to the last good value of %1.").
                  arg(atts->GetZSteps());
            Message(msg);
            atts->SetZSteps(atts->GetZSteps());
        }
    }

}


//
// Qt Slot functions
//


void
QvisSurfCompPrepWindow::surfaceTypeChanged(int val)
{
    if(val != atts->GetSurfaceType())
    {
        atts->SetSurfaceType(SurfCompPrepAttributes::SurfaceType(val));
        SetUpdate(false);
        Apply();
    }
}


void
QvisSurfCompPrepWindow::coordSystemChanged(int val)
{
    if(val != atts->GetCoordSystem())
    {
        atts->SetCoordSystem(SurfCompPrepAttributes::CoordinateSystem(val));
        Apply();
    }
}


void
QvisSurfCompPrepWindow::thetaStartProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_thetaStart);
    Apply();
}


void
QvisSurfCompPrepWindow::thetaStopProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_thetaStop);
    Apply();
}


void
QvisSurfCompPrepWindow::thetaStepsProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_thetaSteps);
    Apply();
}


void
QvisSurfCompPrepWindow::phiStartProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_phiStart);
    Apply();
}


void
QvisSurfCompPrepWindow::phiStopProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_phiStop);
    Apply();
}


void
QvisSurfCompPrepWindow::phiStepsProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_phiSteps);
    Apply();
}


void
QvisSurfCompPrepWindow::startRadiusProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_startRadius);
    Apply();
}


void
QvisSurfCompPrepWindow::endRadiusProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_endRadius);
    Apply();
}


void
QvisSurfCompPrepWindow::radiusStepsProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_radiusSteps);
    Apply();
}


void
QvisSurfCompPrepWindow::xStartProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_xStart);
    Apply();
}


void
QvisSurfCompPrepWindow::xStopProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_xStop);
    Apply();
}


void
QvisSurfCompPrepWindow::xStepsProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_xSteps);
    Apply();
}


void
QvisSurfCompPrepWindow::yStartProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_yStart);
    Apply();
}


void
QvisSurfCompPrepWindow::yStopProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_yStop);
    Apply();
}


void
QvisSurfCompPrepWindow::yStepsProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_ySteps);
    Apply();
}


void
QvisSurfCompPrepWindow::zStartProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_zStart);
    Apply();
}


void
QvisSurfCompPrepWindow::zStopProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_zStop);
    Apply();
}


void
QvisSurfCompPrepWindow::zStepsProcessText()
{
    GetCurrentValues(SurfCompPrepAttributes::ID_zSteps);
    Apply();
}


